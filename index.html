<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
    <button id="rock">Rock</button>
    <button id="paper">Paper</button>
    <button id="scissors">Scissors</button> 
    <h1 class="text"></h1>
    <p class="score"></p>
    <p class="result"></p>
<body>
    <script>
        function getComputerChoice() {
            let float = Math.random();
            if (float<1/3) {
                return("rock");
            } else if (float>2/3) {
                return("paper");
            } else {
                return("scissors");
            }
        }

        function playGame(computer, player) {
            if (player == "scissors") {
                if (computer == "scissors") {
                    return("the game is a draw")
                } else if (computer == "rock") {
                    return("you lose")
                } else {
                    return ("you win")
                }
            }

            else if (player == "rock") { 
                if (computer == "rock") {
                    return("the game is a draw")
                } else if (computer == "paper") {
                    return("you lose")
                } else {
                    return ("you win")
                }
            }

            else if (player == "paper") {
                if (computer == "paper") {
                    return("the game is a draw")
                } else if (computer == "scissors") {
                    return("you lose")
                } else {
                    return ("you win")
                }
            }

            else {
                return("You did not pick a valid choice");
            }
        }
        
        function game() {

            let computerChoice = getComputerChoice();
            text.textContent = (`The computer chose ${computerChoice}, ${playGame(computerChoice,playerSelection)}`);
            if (playGame(computerChoice,playerSelection)=="you win") {
                playerScore++;
            } else if (playGame(computerChoice,playerSelection)=="you lose") {
                computerScore++;
            
            }
            score.textContent = (`The score is ${playerScore}-${computerScore}`);
        }
        

        function matchResult(player, computer) {
            rock.removeEventListener('click', clickHandler);
            paper.removeEventListener('click', clickHandler);
            scissors.removeEventListener('click', clickHandler);
            if (player>computer) {
                result.textContent = ("Congratulations, you win")
                page.style.cssText = "background-color: green;"
            } else if (computer>player) {
                result.textContent = ("The computer wins, better luck next time")
                page.style.cssText = "background-color: red;"
            } else {
                result.textContent = ("The game is a draw")
                page.style.cssText = "background-color: yellow;"
            }
        }

        function clickHandler(e) {
            playerSelection = e.target.id;
            game();
            if (playerScore == 5 || computerScore == 5) {
                matchResult(playerScore, computerScore);
            }

            
            
        }
        
        let playerScore = 0;
        let computerScore = 0;
        
        const rock = document.querySelector("#rock");
        rock.addEventListener('click', clickHandler);


        const paper = document.querySelector("#paper");
        paper.addEventListener('click', clickHandler);

        const scissors = document.querySelector("#scissors");
        scissors.addEventListener('click', clickHandler);
        
        const text = document.querySelector(".text");
        const score = document.querySelector(".score");
        const result = document.querySelector(".result");
        const page = document.querySelector("body");

        

        
       
    </script>
</body>
</html>